{
	"$schema": "http://json-schema.org/draft-04/schema#",
	"description": "Schema for the response by the get-emanifest-correction-details service",
	"$ref": "#/definitions/EmanifestCorrectionDetails",
	"definitions": {
		"EmanifestCorrectionDetails": {
			"type": "object",
			"properties": {
				"manifestTrackingNumber": {
					"type": "string"
				},
				"emanifestVersions": {
					"type": "array",
					"items": {
						"$ref": "#/definitions/EmanifestVersion"
					}
				}
			}
		},
		"EmanifestVersion": {
			"type": "object",
			"properties": {
				"status": {
					"description": " Contains manifest version status ",
					"type": "string",
					"enum": [
						"Signed",
						"Corrected",
						"UnderCorrection",
						"PendingPpcDataEntry",
						"PpcDataEntryCompleted"
					]
				},
				"versionNumber": {
					"description": "Contains Manifest version number.",
					"type": "integer"
				},
				"active": {
					"description": "Indicates if the Manifest version is active or outdated for the industry. ",
					"type": "boolean"
				},
				"electronicSignaturesInfo": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/ElectronicSignature"
          }
        },
				"epaSiteId": {
					"description": "Contains the site id associated with the user which signed the correction version.",
					"type": "string"
				},
				"createdDate": {
					"description": "Contains the creation date of the Manifest version.",
					"type": "string",
					"format": "date-time"
				},
				"updatedDate": {
					"description": "Contains the update date of the Manifest version.",
					"type": "string",
					"format": "date-time"
				},
				"updatedBy": {
					"description": "Contains the user id of the Manifest version updater",
					"type": "object",
					"properties": {
						"firstName": {
							"type": "string",
							"minLength": 1,
							"maxLength": 38
						},
						"lastName": {
							"type": "string",
							"minLength": 1,
							"maxLength": 38
						},
						"userId": {
							"type": "string"
						}
					}
				},
			"additionalProperties": false
		},
		"Signer": {
			"description": "Contains Signer Information.",
			"type": "object",
			"properties": {
				"firstName": {
					"type": "string",
					"minLength": 1,
					"maxLength": 38
				},
				"lastName": {
					"type": "string",
					"minLength": 1,
					"maxLength": 38
				},
				"userId": {
					"type": "string"
				}
			},
			"additionalProperties": false
		},
		"ElectronicSignature": {
			"description": "Contains Generator or TSDF or Transporter Signer Info, Date of Signature and Signed document metadata. Shall not be provided for Save and Update services. Will be returned by Get Manifest Service if the participant (Generator, Transporter, TSDF) Electronicaly signed the manifest",
			"type": "object",
			"properties": {
				"signer": {
					"$ref": "#/definitions/Signer"
				},
				"signatureDate": {
					"type": "string",
					"format": "date-time"
				},
				"humanReadableDocument": {
					"$ref": "#/definitions/Document"
				},
				"cromerrActivityId": {
					"type": "string"
				},
				"cromerrDocumentId": {
					"type": "string"
				},
				"signerRole": {
					"description": "Indicates which entity signed the manifest. Industry or State",
					"type": "string",
					"enum": [
						"Industry",
						"State"
					]
				}
			},
			"additionalProperties": false
		},
		"Document": {
			"description": "Attachments metadata formDocument is the PDF generated by EPA.  printedDocument is the file uploaded to EPA",
			"type": "object",
			"properties": {
				"name": {
					"description": "file name ",
					"type": "string",
					"pattern": "^[0-9a-zA-Z_\\-. ]+$"
				},
				"size": {
					"description": "Size of file, optional for upload",
					"type": "number"
				},
				"mimeType": {
					"description": "file mime type",
					"type": "string",
					"enum": [
						"APPLICATION_PDF",
						"TEXT_HTML"
					]
				}
			},
			"additionalProperties": false
		},
		"SiteType": {
			"description": "Specifies How a site interacts with this manifest",
			"type": "string",
			"enum": [
				"Tsdf",
				"Generator",
				"Transporter"
			]
		}
	}
}
